<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <title>Hello World</title>
</head>

<body>
  <h1>Exemplo Login OAuth Google</h1>

  <button type="button" name="logout">
    Sair (Logout)
  </button>

  <div class="usuario">
    <img  />
  </div>

  <script type="text/javascript" src="cordova.js"></script>
  <script type="text/javascript" src="js/index.js"></script>

<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
  <script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDfV96KJVPUgALyzSStNuZf1rwRIxhpzHA",
    authDomain: "fabmec-5c1d0.firebaseapp.com",
    databaseURL: "https://fabmec-5c1d0.firebaseio.com",
    projectId: "fabmec-5c1d0",
    storageBucket: "fabmec-5c1d0.appspot.com",
    messagingSenderId: "964841337543"
  };
  firebase.initializeApp(config);
</script>

<script type="text/javascript">
      app.initialize();
</script>


<script type="text/javascript">
  firebase.auth().onAuthStateChanged(function(usuario) {
    if (usuario) { // est√° autenticado
      document.querySelector('div.usuario').textContent = usuario.displayName;
      document.querySelector('img').src = usuario.photoURL;
    } else {
      window.location = 'login.html';
    }
  });

  const bt = document.querySelector('button[name=logout]');
  bt.addEventListener('click', function () {
    firebase.auth().signOut().then(function () {
      //
    }).catch(function (error) {
      console.log(error);
    });
  });



</script>

<script src="https://apis.google.com/js/api.js">
</script>
<script type="text/javascript">
// https://developers.google.com/sheets/api/quickstart/js
//   var CLIENT_ID = '64128291119-7e84gjln8fu620dqboj4iar3sal1fq7p.apps.googleusercontent.com';
//   var SCOPES = "https://www.googleapis.com/auth/spreadsheets.readonly";
//   var DISCOVERY_DOCS = ["https://sheets.googleapis.com/$discovery/rest?version=v4"];
//
// gapi.load('client:auth2', function () {
//   gapi.client.init({
//           discoveryDocs: DISCOVERY_DOCS,
//           clientId: CLIENT_ID,
//           scope: SCOPES
//         })
//
//   gapi.client.sheets.spreadsheets.values.get({
//     spreadsheetId: '1w872UB1-3se66KpFt8vl7z0xvlYrRPKBTcPzbaR5GVo',
//     range: 'aba!A1:D10',
//   }).then(function(response) {
//     console.log(response.result);
//   });
// });

</script>


</body>

</html>
